<!doctype html>
<html lang="de" data-view="home" data-theme="rose">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cut by Jody</title>
  <meta name="description" content="Cut by Jody in Münster-Hiltrup. Damen & Herren. Online buchen, Galerie, Team, Anfahrt.">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --radius:18px; --elev:0 10px 30px rgba(0,0,0,.12);
      --txt:#111; --muted:#555; --bg:#ffffff; --sub:#f8e1ea; --accent:#e84d84; --gold:#b2892f;
      --men-bg:#0f1115; --men-grad:#0b0b0b; --men-grad2:#171717; --men-card:#161922; --men-txt:#e9ecf1; --men-muted:#9aa3af;
      --women-bg:#ffffff; --women-sub:#fff7e7; --women-accent:#c7a243; --women-txt:#1a1a1a; --women-muted:#666;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--txt)}
    a{color:inherit;text-decoration:none}
    img,video{max-width:100%;display:block}
    .container{max-width:1200px;margin:0 auto;padding:0 18px}

    /* Topbar */
    .topbar{position:sticky;top:0;z-index:100;background:rgba(255,255,255,.86);backdrop-filter:saturate(160%) blur(12px);border-bottom:1px solid rgba(0,0,0,.06)}
    .nav{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:12px;padding:10px 0}
    .nav a{justify-self:start}
    .nav .right{justify-self:end}
    .logo{
      width:64px;height:64px;border-radius:50%;
      display:grid;place-items:center;font-family:"Playfair Display",serif;font-weight:700;letter-spacing:.5px;
      border:2px solid rgba(0,0,0,.10); cursor:pointer; user-select:none; transition:transform .15s ease, box-shadow .2s ease;
    }
    .logo:active{transform:scale(.98)}
    /* Logo themes */
    [data-theme="rose"] .logo{
      background:
        radial-gradient(circle at 30% 30%,rgba(255,255,255,.88),rgba(255,255,255,.72)),
        linear-gradient(135deg,#f2f2f2,#d7d7d7);
      color:#111;
      box-shadow:0 12px 24px rgba(0,0,0,.28), inset 0 0 0 4px rgba(255,255,255,.92);
    }
    [data-theme="women"] .logo{
      background:linear-gradient(135deg,#ffe9f2,#ffd5e6);
      color:#1a1a1a;
      /* kräftigerer goldener Schimmer */
      box-shadow:
        0 10px 22px rgba(232,77,132,.35),
        0 0 0 10px rgba(199,162,67,.10),
        inset 0 0 0 4px rgba(255,255,255,.95);
      border-color:rgba(0,0,0,.06);
    }
    [data-theme="men"] .logo{
  background:linear-gradient(135deg,#000000,#161616);
  color:#e9ecf1;
  /* kräftiger weißer Innenring und kühler Shadow */
  box-shadow:
    0 18px 32px rgba(0,0,0,.8),
    inset 0 0 0 5px rgba(255,255,255,.5),
    inset 0 0 18px rgba(255,255,255,.1);
  border-color:rgba(255,255,255,.25);
}

/* MEN VIEW styling */
#men{
  background:linear-gradient(180deg,#0a0a0a,#181818);
}
#men .wrap{color:var(--men-txt)}
#men h2{color:#fff}

/* schwarzer Raum-Glow */
#men .wrap::before{
  content:""; position:fixed; inset:0; pointer-events:none;
  background:
    radial-gradient(900px 400px at 20% -10%, rgba(255,255,255,.05), transparent 60%),
    radial-gradient(700px 280px at 80% 110%, rgba(255,255,255,.04), transparent 60%),
    radial-gradient(1200px 700px at 50% 40%, rgba(0,0,0,.6), transparent 75%);
  mix-blend-mode:overlay;
  opacity:.8;
}

.offerCard{
  overflow:hidden;border-radius:18px;
  background:transparent;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 18px 40px rgba(0,0,0,.5);
}
.offerCard::before{
  content:""; position:absolute; inset:-2px; border-radius:20px;
  background:
    radial-gradient(500px 220px at 18% -18%, rgba(0,0,0,.6), transparent 60%),
    radial-gradient(420px 180px at 120% 120%, rgba(0,0,0,.4), transparent 60%);
  pointer-events:none;
  filter:blur(.3px);
}

/* WOMEN VIEW styling */
#women{
  background:linear-gradient(180deg,#fff,#fff6df 60%,#fff);
}
#women .wrap{color:var(--women-txt)}
#women .card{background:#fff;border-color:rgba(0,0,0,.06)}
#women h2{color:#1a1a1a}

/* deutlich kräftigerer goldener Raum-Glow */
#women .wrap::before{
  content:""; position:fixed; inset:0; pointer-events:none;
  background:
    radial-gradient(1100px 460px at 10% -10%, rgba(199,162,67,.25), transparent 60%),
    radial-gradient(900px 420px at 90% 110%, rgba(199,162,67,.18), transparent 60%),
    radial-gradient(1600px 800px at 50% 20%, rgba(255,213,110,.10), transparent 70%);
  mix-blend-mode:screen;
  opacity:1;
}

.sparkle{
  position:absolute;
  inset:auto 12px 12px auto;
  font-size:22px;
  color:#d4b14f;
  text-shadow:0 0 15px rgba(212,177,79,.6);
}
  </style>
</head>
<body>
  <!-- UNIVERSAL NAV -->
  <div class="topbar">
    <div class="container nav">
      <a class="pill" href="#women" data-link="women">Damenbereich</a>
      <div class="logo" id="homeLogo" title="Zur Startseite">J</div>
      <a class="pill right" href="#men" data-link="men">Herrenbereich</a>
    </div>
  </div>

  <!-- HOME VIEW -->
  <main id="home" class="view">
    <div class="container hero">
      <div class="heroInner">
        <div class="heroText">
          <span class="ribbon">Hiltrup, Münster</span>
          <h1>Cut by Jody</h1>
          <p>Moderner Salon mit Herz. Direkt Termine buchen, entspannt vorbeikommen, gut aussehen. Ohne Warterei, ohne Drama.</p>
          <div class="cta">
            <button class="btn primary hoverRaise" id="inlineBookingBtn">Termin buchen</button>
          </div>
        </div>
        <div class="card hoverRaise videoCover" aria-label="Salon Außenansicht Video">
          <video autoplay muted loop playsinline preload="metadata" poster="/img/salon-poster.jpg">
            <source src="/img/hero.mp4" type="video/mp4">
          </video>
        </div>
      </div>
    </div>

    <!-- BOOKING MODAL -->
    <div id="bookingModal" class="modal" aria-hidden="true">
      <div class="modalCard">
        <div class="modalHead">
          <strong>Online-Termin</strong>
          <button class="pill" id="closeInlineBooking">Schließen</button>
        </div>
        <div class="modalBody">
          <iframe class="embed"
            src="about:blank"
            referrerpolicy="no-referrer-when-downgrade"
            data-src="https://cut-by-jody.salonized.com/widget_bookings/new?layout=standalone&source=google_reserve&hl=en-DE&gei=n4TzaM2ID6eBxc8P0IWzyQo&rwg_token=ACgRB3cNqswGk8Rjy4f5TlZVh5gnWL5rLOTdAkRn3ANaVqAKPIx4EtmQrgjwj6u6IvrUaCelCGRushUONBlPnHw5bvdhcFybfw%3D%3D"
            title="Buchung" allow="fullscreen">
          </iframe>
        </div>
      </div>
    </div>

    <!-- GOOGLE REVIEWS (rotierend, 3 sichtbar) -->
    <section class="container reviews">
      <div class="reviewsHead">
        <h2>Google-Bewertungen</h2>
      </div>
      <div id="reviewsGrid" class="reviewsGrid">
        <!-- JS füllt hier 3 Cards, wechselt alle 15s -->
      </div>
    </section>

    <!-- GALLERY -->
    <section class="container">
      <h2>Galerie</h2>
      <div class="gallery">
        <figure class="tile hoverRaise"><img src="/img/salon-1.jpg" alt="Salon Innen 1" loading="lazy"></figure>
        <figure class="tile hoverRaise"><img src="/img/salon-2.jpg" alt="Salon Innen 2" loading="lazy"></figure>
        <figure class="tile hoverRaise"><img src="/img/salon-3.jpg" alt="Salon Bereich 3" loading="lazy"></figure>
        <figure class="tile hoverRaise"><img src="/img/salon-4.jpg" alt="Arbeitsplatz" loading="lazy"></figure>
        <figure class="tile hoverRaise"><img src="/img/salon-5.jpg" alt="Waschplatz" loading="lazy"></figure>
        <figure class="tile hoverRaise"><img src="/img/salon-6.jpg" alt="Außenbereich" loading="lazy"></figure>
      </div>
    </section>

    <!-- TEAM -->
    <section class="container section--team">
      <h2>Team</h2>
      <div class="grid team">
        <article class="card teamCard hoverRaise">
          <div class="avatar" style="background-image:url('/img/team-jody.jpg')"></div>
          <div>
            <strong>Jody</strong><br><span class="muted">Inhaber:in</span>
          </div>
          <p class="bio muted">Ich liebe klare Schnitte und ehrliche Beratung. Vier Zeilen Platz klingen lang, aber ich rede lieber kurz und schneide präzise.</p>
        </article>
        <article class="card teamCard hoverRaise">
          <div class="avatar" style="background-image:url('/img/team-2.jpg')"></div>
          <div>
            <strong>Alex</strong><br><span class="muted">Color Specialist</span>
          </div>
          <p class="bio muted">Balayage ohne Blaustich, Versprechen ohne Phrasen. Ich mache Haarfarben, die zu Alltag und Persönlichkeit passen.</p>
        </article>
        <article class="card teamCard hoverRaise">
          <div class="avatar" style="background-image:url('/img/team-3.jpg')"></div>
          <div>
            <strong>Mina</strong><br><span class="muted">Stylistin</span>
          </div>
          <p class="bio muted">Schnell, sauber, sympathisch. Ich mag Looks, die mitwachsen, statt nach zwei Wochen zu nerven.</p>
        </article>
      </div>
    </section>

    <!-- INFO: Öffnungszeiten + Anfahrt -->
    <section class="container section--afterTeam">
      <div class="cols">
        <div class="card infoCard">
          <h2>Öffnungszeiten</h2>
          <div class="hoursList">
            <div class="hoursRow"><span class="day">Montag</span><span class="time">10:00–19:30 Uhr</span></div>
            <div class="hoursRow"><span class="day">Dienstag</span><span class="time">10:00–19:30 Uhr</span></div>
            <div class="hoursRow"><span class="day">Mittwoch</span><span class="time">10:00–19:30 Uhr</span></div>
            <div class="hoursRow"><span class="day">Donnerstag</span><span class="time">10:00–19:30 Uhr</span></div>
            <div class="hoursRow"><span class="day">Freitag</span><span class="time">10:00–19:30 Uhr</span></div>
            <div class="hoursRow"><span class="day">Samstag</span><span class="time">10:00–19:30 Uhr</span></div>
            <div class="hoursRow closed"><span class="day">Sonntag</span><span class="time">Geschlossen</span></div>
          </div>
        </div>
        <div class="card infoCard mapWrap">
          <h2>Anfahrt</h2>
          <p class="muted" style="margin:6px 0 12px"><strong>Marktallee 18</strong>, 48165 Münster</p>
          <!-- Map ohne eingeblendete Adressbeschriftung: zentriert per Koordinaten -->
          <iframe id="mapFrame" class="embed" title="Karte"
                  loading="lazy"
                  src="https://www.google.com/maps?ll=51.903322,7.644676&z=15&t=m&output=embed">
          </iframe>
          <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap">
            <a id="routeLink" class="pill" target="_blank" rel="noopener">Route öffnen</a>
          </div>
        </div>
      </div>
    </section>
    <footer class="container" style="padding:24px 0;color:#777">
      <small>© <span id="year"></span> Cut by Jody • Marktallee 18, Münster • <a href="#women" data-link="women">Damen</a> • <a href="#men" data-link="men">Herren</a></small>
    </footer>
  </main>

  <!-- MEN VIEW -->
  <main id="men" class="view">
    <div class="wrap">
      <section class="container" style="padding:28px 0 12px">
        <h2>Herrenbereich</h2>
        <p style="color:var(--men-muted)">Klare Linien, schnelle Termine, saubere Fades. Drei Specials unten. Buchung über „Termin buchen“ auf der Startseite.</p>
      </section>
      <section class="container">
        <div class="offerGrid">
          <article class="card offerCard hoverRaise">
            <div class="offerImg" style="background-image:url('/img/men-fade.jpg')"></div>
            <div style="padding:14px">
              <strong>Skin Fade + Finish</strong>
              <p style="color:var(--men-muted)">Präziser Fade, Konturen mit Maschine, Styling inklusive. Perfekt für 2–3 Wochen Halt.</p>
            </div>
          </article>
          <article class="card offerCard hoverRaise">
            <div class="offerImg" style="background-image:url('/img/men-beard.jpg')"></div>
            <div style="padding:14px">
              <strong>Beard Shape & Care</strong>
              <p style="color:var(--men-muted)">Bart in Form, saubere Konturen, pflegendes Öl. Kein Juckreiz, kein Fransenlook.</p>
            </div>
          </article>
          <article class="card offerCard hoverRaise">
            <div class="offerImg" style="background-image:url('/img/men-color.jpg')"></div>
            <div style="padding:14px">
              <strong>Grey Blend</strong>
              <p style="color:var(--men-muted)">Dezente Abdeckung ohne Vollton. Siehst aus wie du, nur ausgeruhter.</p>
            </div>
          </article>
        </div>
      </section>
    </div>
  </main>

  <!-- WOMEN VIEW -->
  <main id="women" class="view">
    <div class="wrap">
      <section class="container" style="padding:28px 0 12px; position:relative">
        <h2>Damenbereich</h2>
        <div class="sparkle">✦</div>
        <p style="color:var(--women-muted)">Helle, warme Optik. Drei Spezialbehandlungen mit kurzer Erklärung. Buchung über die Startseite.</p>
      </section>
      <section class="container">
        <div class="offerGrid">
          <article class="card offerCard hoverRaise">
            <div class="offerImg" style="background-image:url('/img/women-balayage.jpg')"></div>
            <div style="padding:14px">
              <strong>Balayage Soft Glow</strong>
              <p class="muted">Weiche Übergänge, natürliche Tiefe. Glanz ohne Stufenlook.</p>
            </div>
          </article>
          <article class="card offerCard hoverRaise">
            <div class="offerImg" style="background-image:url('/img/women-keratin.jpg')"></div>
            <div style="padding:14px">
              <strong>Keratin Smooth</strong>
              <p class="muted">Frizz weg, Form bleibt. Pflege + Finish inklusive.</p>
            </div>
          </article>
          <article class="card offerCard hoverRaise">
            <div class="offerImg" style="background-image:url('/img/women-cutstyle.jpg')"></div>
            <div style="padding:14px">
              <strong>Cut & Style Signature</strong>
              <p class="muted">Schnitt, Föhn, Welle oder glatt. Styling, das zu dir passt.</p>
            </div>
          </article>
        </div>
      </section>
    </div>
  </main>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Route handling + theme switching
    const root = document.documentElement;
    const homeLogo = document.getElementById('homeLogo');
    function setView(view){
      root.setAttribute('data-view', view);
      if(view === 'home'){ root.setAttribute('data-theme','rose'); }
      if(view === 'men'){ root.setAttribute('data-theme','men'); }
      if(view === 'women'){ root.setAttribute('data-theme','women'); }
      window.scrollTo({top:0, behavior:'instant'});
    }
    function hashToView(){
      const h = (location.hash||'#home').replace('#','');
      setView(['home','men','women'].includes(h)?h:'home');
    }
    window.addEventListener('hashchange', hashToView);
    hashToView();
    // Logo click to home
    homeLogo.addEventListener('click', ()=>{ location.hash = 'home'; });

    // Booking modal
    const modal = document.getElementById('bookingModal');
    const inlineBtn = document.getElementById('inlineBookingBtn');
    const closeBox  = document.getElementById('closeInlineBooking');
    const iframe = modal.querySelector('iframe');
    inlineBtn.addEventListener('click', ()=>{
      modal.classList.add('open');
      if(iframe.src === 'about:blank'){ iframe.src = iframe.dataset.src; }
    });
    closeBox.addEventListener('click', ()=> modal.classList.remove('open'));
    modal.addEventListener('click',(e)=>{ if(e.target === modal) modal.classList.remove('open'); });

    // Map + Route
    const routeLink = document.getElementById('routeLink');
    const address = 'Marktallee 18, 48165 Münster';
    const enc = encodeURIComponent(address);
    if(routeLink){ routeLink.href = `https://www.google.com/maps/dir/?api=1&destination=${enc}`; }

    // ---- GOOGLE REVIEWS (Places API mit Fallback) ----
    const fallbackReviews = [
      {author:'Lena M.', text:'Super nettes Team, schneller Service und top Ergebnis. Absolute Empfehlung!', rating:5, source:'Google'},
      {author:'Daniel P.', text:'Spontan reingeschneit, perfekter Fade. Komme wieder.', rating:5, source:'Google'},
      {author:'Hannah K.', text:'Balayage on point. Keine Wartezeit, faire Preise.', rating:5, source:'Google'},
      {author:'Murat A.', text:'Bart & Haare genau so wie gewünscht. Sauberer Laden.', rating:5, source:'Google'},
      {author:'Sophie R.', text:'Tolle Beratung, sehr präziser Schnitt. Danke!', rating:5, source:'Google'},
      {author:'Jonas L.', text:'Online Termin buchen und zack fertig. 10/10.', rating:5, source:'Google'}
    ];

    const reviewsGrid = document.getElementById('reviewsGrid');
    let currentIndex = 0;
    function renderBatch(list){
      reviewsGrid.innerHTML = '';
      const batch = [];
      for(let i=0;i<3;i++){ batch.push(list[(currentIndex+i)%list.length]); }
      currentIndex = (currentIndex+3)%list.length;
      for(const r of batch){
        const card = document.createElement('article');
        card.className = 'reviewCard hoverRaise';
        card.innerHTML = `
          <div class="stars">${'★'.repeat(r.rating)}<span class="muted">${'☆'.repeat(5-r.rating)}</span></div>
          <p class="muted" style="margin:0">${r.text}</p>
          <div class="author">${r.author}</div>
          <div class="source">${r.source}</div>
        `;
        reviewsGrid.appendChild(card);
      }
    }

    const GOOGLE_PLACES_API_KEY = ''; // optional
    const PLACE_QUERY = 'Cut by Jody, Marktallee 18, 48165 Münster';

    function initPlaces(){
      if(!GOOGLE_PLACES_API_KEY){ renderBatch(fallbackReviews); setInterval(()=>renderBatch(fallbackReviews),15000); return; }
      const s = document.createElement('script');
      s.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_PLACES_API_KEY}&libraries=places&loading=async`;
      s.async = true;
      s.defer = true;
      s.onload = findPlaceAndFetchReviews;
      s.onerror = ()=>{ renderBatch(fallbackReviews); setInterval(()=>renderBatch(fallbackReviews),15000); };
      document.head.appendChild(s);
    }

    function findPlaceAndFetchReviews(){
      const map = document.createElement('div');
      const svc = new google.maps.places.PlacesService(map);
      svc.findPlaceFromQuery({ query: PLACE_QUERY, fields: ['place_id'] }, (results,status)=>{
        if(status !== google.maps.places.PlacesServiceStatus.OK || !results?.length){
          renderBatch(fallbackReviews); setInterval(()=>renderBatch(fallbackReviews),15000); return;
        }
        const placeId = results[0].place_id;
        svc.getDetails({ placeId, fields:['reviews','name','rating'] }, (place, st)=>{
          if(st !== google.maps.places.PlacesServiceStatus.OK || !place?.reviews?.length){
            renderBatch(fallbackReviews); setInterval(()=>renderBatch(fallbackReviews),15000); return;
          }
          const fiveStars = place.reviews
            .filter(r=>Math.round(r.rating)===5 && r.text)
            .map(r=>({author:r.author_name, text:r.text, rating:5, source:'Google'}));
          const list = fiveStars.length >= 3 ? fiveStars : fallbackReviews;
          renderBatch(list);
          setInterval(()=>renderBatch(list),15000);
        });
      });
    }

    initPlaces();
  </script>
</body>
</html>
